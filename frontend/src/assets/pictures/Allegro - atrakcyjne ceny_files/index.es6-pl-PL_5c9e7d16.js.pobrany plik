((t,e)=>{for(var i in e)t[i]=e[i]})(window,(t=>{var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=(t,e,s)=>{i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=(t,e)=>{if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,(e=>t[e]).bind(null,o));return s},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,"a",e),e},i.o=(t,e)=>({}.hasOwnProperty.call(t,e)),i.p="https://assets.allegrostatic.com/sc-9197/",i(i.s=0)})({0(t,e,i){t.exports=i("O14P")},O14P(t,e,i){i.r(e);var s=i("rRL6"),o=i.n(s);function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class r{constructor({areaNode:t,imageNode:e}){const i=e.getAttribute("data-responsive");this.areaNode=t,this.imageNode=e,this.initialCoords=this.areaNode.getAttribute("coords"),this.naturalHeight=i?Number(e.getAttribute("data-height")):e.naturalHeight,this.naturalWidth=i?Number(e.getAttribute("data-width")):e.naturalWidth}resize(){if(!this.initialCoords)return;const t=this.imageNode.width/this.naturalWidth,e=this.imageNode.height/this.naturalHeight,i=this.initialCoords.split(",").map((i,s)=>{const o=s%2==0?t:e;return Math.floor(parseInt(i,10)*o)});this.areaNode.setAttribute("coords",i)}}function h(t){return t.length?t.split(" "):[]}function a(t,e,i){return Array.from(t.querySelectorAll(e),i)}function d(){}function l(t,e){t.classList.add(...h(e))}function c(t,e){t.classList.remove(...h(e))}class u{constructor({slideNode:t}){n(this,"show",()=>{this.isImageLoaded||this.node.classList.add("mpof_z0")}),n(this,"resizeAreas",()=>{this.areas.forEach(t=>t.resize())}),n(this,"handleLoaded",()=>{this.resizeAreas()}),this.node=t.querySelector('[data-role="image"]'),this.areas=a(t,"area",t=>new r({areaNode:t,imageNode:this.node}))}get isImageLoaded(){return this.node.complete&&0!==this.node.naturalHeight&&0!==this.node.naturalWidth}initialize(){this.isImageLoaded&&this.handleLoaded()}attachListeners(){this.node.addEventListener("load",this.handleLoaded),0!==this.areas.length&&window.addEventListener("resize",this.resizeAreas)}}class m{constructor({node:t,index:e,onSlideShow:i}){this.node=t,this.image=new u({slideNode:t}),this.onSlideShow=i,this.index=e,this.impressions=0,this.node.style.transitionDuration="300ms",this.imageTrackersAppended=!1,this.timeouts={}}initialize(){this.image.initialize()}markVisible(){this.impressions+=1,this.appendImageTrackers(),window.opbox.boxViewsMarker.markBoxAsVisible(this.node)}hide(){l(this.node,"mj6k_n7"),c(this.node,"mj6k_96"),clearTimeout(this.timeouts.show),clearTimeout(this.timeouts.hide),this.timeouts.hide=setTimeout(()=>{l(this.node,"m9vn_gl"),c(this.node,"m9vn_d2")},300)}show(){this.image.show(),this.markVisible(),l(this.node,"mj6k_96 m9vn_d2"),c(this.node,"mj6k_n7 m9vn_gl"),clearTimeout(this.timeouts.show),clearTimeout(this.timeouts.hide),this.timeouts.show=setTimeout(()=>{this.onSlideShow()},300)}appendImageTrackers(){if(!0===this.imageTrackersAppended)return;const t=this.node.getAttribute("data-image-trackers"),e=t?JSON.parse(t):[],i=Math.floor(Date.now()/1e3);e.forEach(t=>{const e=t.replace("[timestamp]",i),s=Object.assign(document.createElement("img"),{src:e,className:"mpof_5r"});s.setAttribute("data-role","imageTracker"),this.node.appendChild(s)}),this.imageTrackersAppended=!0}attachListeners(){this.image.attachListeners()}}class p{constructor({rootNode:t,onSlideShow:e,onMouseEnter:i,onMouseLeave:s}){this.node=t.querySelector('[data-role="slidesList"]'),this.onMouseEnter=i,this.onMouseLeave=s,this.slides=a(t,'[data-role="slidesList"] > li',(t,i)=>new m({node:t,index:i,onSlideShow:e}))}initialize(){0!==this.slides.length&&this.node&&(this.slides[0].markVisible(),this.slides.forEach(t=>t.initialize()))}get size(){return this.slides.length}show(t,e){const i=this.slides[t],s=this.slides[e];i&&s&&(i.hide(),s.show())}getNextIndex(t){return t>this.slides.length-1?0:t}getPrevIndex(t){return t<0?this.slides.length-1:t}attachListeners(){this.node&&(this.node.addEventListener("mouseenter",this.onMouseEnter),this.node.addEventListener("mouseleave",this.onMouseLeave),0!==this.size&&this.slides.forEach(t=>t.attachListeners()))}}class w{constructor({rootNode:t,onNextButtonClick:e,onPreviousButtonClick:i}){this.prevButton=t.querySelector('[data-role="previousSlideButton"]'),this.nextButton=t.querySelector('[data-role="nextSlideButton"]'),this.onNextButtonClick=e,this.onPreviousButtonClick=i}attachPreviousButtonListener(){this.prevButton&&this.prevButton.addEventListener("click",t=>{t.preventDefault(),this.onPreviousButtonClick()})}attachNextButtonListener(){this.nextButton&&this.nextButton.addEventListener("click",t=>{t.preventDefault(),this.onNextButtonClick()})}attachListeners(){this.attachPreviousButtonListener(),this.attachNextButtonListener()}}class _{constructor({node:t,index:e,onIndicatorClick:i}){this.node=t,this.index=e,this.onIndicatorClick=i}show(){this.node.className="mg9e_0 mg9e_8_l mvrt_0 mvrt_8_l mj7a_0 mj7a_8_l mh36_0 mh36_8_l mupj_5k mqen_m6 mzaq_1_l mp4t_8 mp4t_0_l m3h2_8 m3h2_0_l mryx_8 mryx_0_l munh_0_l m911_5r mefy_5r mnyp_5r mdwl_5r _628bf_pvTOH msts_lo _628bf_3pUBD"}hide(){this.node.className="mg9e_0 mg9e_8_l mvrt_0 mvrt_8_l mj7a_0 mj7a_8_l mh36_0 mh36_8_l mupj_5k mqen_m6 mzaq_1_l mp4t_8 mp4t_0_l m3h2_8 m3h2_0_l mryx_8 mryx_0_l munh_0_l m911_5r mefy_5r mnyp_5r mdwl_5r _628bf_pvTOH msts_fo"}attachListeners(){this.node.addEventListener("click",()=>{this.onIndicatorClick(this.index)}),this.node.addEventListener("keypress",t=>{"Enter"!==t.key&&" "!==t.key||this.onIndicatorClick(this.index)})}}class v{constructor({rootNode:t,onIndicatorClick:e}){this.indicators=a(t,'[data-role="indicator"]',(t,i)=>new _({node:t,index:i,onIndicatorClick:e}))}get size(){return this.indicators.length}show(t,e){if(0===this.size)return;const i=this.indicators[t],s=this.indicators[e];i.hide(),s.show()}attachListeners(){0!==this.size&&this.indicators.forEach(t=>t.attachListeners())}}class L{constructor(t,e,i=10,s=.3){this.startX=t,this.startTime=e,this.threshold=i,this.velocity=s,this.endX=t}setEndX(t){this.endX=t}calcSwipeDirection(t=Date.now()){const e=Math.abs(this.startX-this.endX);return e/Math.max(t-this.startTime,1)<this.velocity||e<this.threshold?null:this.startX>this.endX?"left":"right"}}class g{constructor(t,e=10,i=.3){n(this,"swipeLeftListener",d),n(this,"swipeRightListener",d),this.element=t,this.threshold=e,this.velocity=i;const s={passive:!0,capture:!1};this.element.addEventListener("touchstart",this,s),this.element.addEventListener("touchmove",this,s),this.element.addEventListener("touchend",this,s)}destroy(){this.element.removeEventListener("touchstart",this),this.element.removeEventListener("touchmove",this),this.element.removeEventListener("touchend",this)}handleEvent(t){switch(t.type){case"touchstart":return this.touchstart(t);case"touchmove":return this.touchmove(t);case"touchend":return this.touchend();default:return this.resetSwipeState()}}setSwipeLeftListener(t){this.swipeLeftListener=t}setSwipeRightListener(t){this.swipeRightListener=t}resetSwipeState(){this.swipeGestureDescriptor=void 0}touchstart(t){const e=t.touches[0];e?this.swipeGestureDescriptor=new L(e.clientX,Date.now(),this.threshold,this.velocity):this.resetSwipeState()}touchmove(t){const e=t.touches[0];e&&this.swipeGestureDescriptor&&this.swipeGestureDescriptor.setEndX(e.clientX)}touchend(){if(!this.swipeGestureDescriptor)return;const t=this.swipeGestureDescriptor.calcSwipeDirection();"left"===t?this.swipeLeftListener():"right"===t&&this.swipeRightListener(),this.resetSwipeState()}}window.opbox.component.register({prototypeName:"allegro.showcase",clientImplementationVersion:o.a},class{constructor({baseNode:t}){n(this,"showSlideByIndex",t=>{t!==this.activeIndex&&(this.slidesList.show(this.activeIndex,t),this.indicatorsList.show(this.activeIndex,t),this.activeIndex=t)}),n(this,"showNextSlide",()=>{const t=this.slidesList.getNextIndex(this.activeIndex+1);this.showSlideByIndex(t)}),n(this,"showPreviousSlide",()=>{const t=this.slidesList.getPrevIndex(this.activeIndex-1);this.showSlideByIndex(t)}),n(this,"handleImageLoad",t=>{this.activeIndex===t&&this.playSlideshow()}),n(this,"stopSlideshow",()=>{this.slideshowDescriptor&&clearTimeout(this.slideshowDescriptor)}),n(this,"playSlideshow",()=>{this.stopSlideshow(),this.slideshowDescriptor=setTimeout(this.showNextSlide,6e3)}),this.activeIndex=0,this.slidesList=new p({rootNode:t,onSlideShow:this.playSlideshow,onMouseEnter:this.stopSlideshow,onMouseLeave:this.playSlideshow}),this.indicatorsList=new v({rootNode:t,onIndicatorClick:this.showSlideByIndex}),this.navigation=new w({rootNode:t,onPreviousButtonClick:this.showPreviousSlide,onNextButtonClick:this.showNextSlide}),this.swipe=new g(t)}onMount(){this.attachListeners(),this.slidesList.initialize(),this.playSlideshow()}onUnmount(){this.swipe.destroy()}attachGesturesSupport(){this.swipe.setSwipeLeftListener(this.showNextSlide),this.swipe.setSwipeRightListener(this.showPreviousSlide)}attachListeners(){this.slidesList.attachListeners(),this.indicatorsList.attachListeners(),this.navigation.attachListeners(),this.attachGesturesSupport()}})},rRL6(t,e){t.exports="702"}}));
//# sourceMappingURL=index.es6-pl-PL_5c9e7d16.js.map