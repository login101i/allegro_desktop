((e,t)=>{for(var r in t)e[r]=t[r]})(window,(e=>{function t(t){for(var r,o,a=t[0],s=t[1],n=0,l=[];n<a.length;n++)o=a[n],{}.hasOwnProperty.call(i,o)&&i[o]&&l.push(i[o][0]),i[o]=0;for(r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(d&&d(t);l.length;)l.shift()()}var r={},i={0:0};function o(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=e=>{var t=[],r=i[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((t,o)=>{r=i[e]=[t,o]});t.push(r[2]=a);var s,n=document.createElement("script");n.charset="utf-8",n.timeout=120,o.nc&&n.setAttribute("nonce",o.nc),n.src=(e=>o.p+""+({1:"notifications",2:"sticky",3:"strip",4:"user-name"}[e]||e)+".es6-pl-PL_818b6f67.js")(e),0!==n.src.indexOf(window.location.origin+"/")&&(n.crossOrigin="anonymous");var d=Error();s=t=>{n.onerror=n.onload=null,clearTimeout(l);var r=i[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,r[1](d)}i[e]=void 0}};var l=setTimeout(()=>{s({type:"timeout",target:n})},12e4);n.onerror=n.onload=s,document.head.appendChild(n)}return Promise.all(t)},o.m=e,o.c=r,o.d=(e,t,r)=>{o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=(e,t)=>{if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,(t=>e[t]).bind(null,i));return r},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,"a",t),t},o.o=(e,t)=>({}.hasOwnProperty.call(e,t)),o.p="https://assets.allegrostatic.com/sc-9181/",o.oe=e=>{throw console.error(e),e};var a=window.webpackJsonp_13850=window.webpackJsonp_13850||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var n=0;n<a.length;n++)t(a[n]);var d=s;return o(o.s=0)})({0(e,t,r){e.exports=r("6kBQ")},"6kBQ"(e,t,r){r.r(t);var i=r("rRL6"),o=r.n(i),a=r("dtw6"),s=r("kiQV"),n=r("rePB");class d{constructor(e,t=window){Object(n.a)(this,"resetDropHeight",()=>{this.dropElement.style.height=""}),Object(n.a)(this,"setDropHeight",e=>{this.dropElement.style.height=e}),Object(n.a)(this,"setDropMaxHeight",e=>{this.dropElement.style.maxHeight=e}),Object(n.a)(this,"isDropScrollable",()=>this.dropElement.hasAttribute(a.e)),Object(n.a)(this,"toggleClickListener",e=>{e.preventDefault(),e.currentTarget.parentElement&&this.toggle()}),Object(n.a)(this,"handleClickOutsideDropdown",({target:e}={})=>{((e,t)=>e.contains(t))(this.wrapper,e)||"true"!==this.toggleElement.getAttribute("aria-expanded")||this.hide()}),this.targetWindow=t,this.wrapper=e,this.toggleElement=e.querySelector(`[data-role="${a.g}"]`),this.dropElement=e.querySelector(`[data-role="${a.d}"]`),this.icon=e.querySelector(`[data-role="${a.f}"]`),this.id=e.getAttribute("data-dropdown-id")||""}toggle(){"true"===this.toggleElement.getAttribute("aria-expanded")?this.hide():this.show()}sendEvent(e){const t={contextNode:this.wrapper,label:e,value:this.id};this.targetWindow.opbox.analytics.sendBoxInteractionEvent(t),"show_dropdown"===e?this.targetWindow.opbox.boxViewsMarker.markBoxAsVisible(this.wrapper):this.targetWindow.opbox.boxViewsMarker.markBoxAsHidden(this.wrapper)}show(){this.wrapper.classList.add("_8ntnf"),this.icon.classList.remove("izglf"),this.icon.classList.add("i1oer"),this.toggleElement.setAttribute("aria-expanded","true"),this.dropElement&&this.handleDropHeight(),this.sendEvent("show_dropdown")}hide(){this.wrapper.classList.remove("_8ntnf"),this.icon.classList.remove("i1oer"),this.icon.classList.add("izglf"),this.toggleElement.setAttribute("aria-expanded","false"),this.sendEvent("hide_dropdown")}handleDropHeight(){const e=this.dropElement.getBoundingClientRect(),t=Math.floor(e.top),r=e.height+"px",i=`calc(100vh - ${t+8}px)`;this.isDropScrollable()?this.setDropHeight(i):(this.resetDropHeight(),this.setDropHeight(r),this.setDropMaxHeight(i))}attachListener(){this.toggleElement.addEventListener("click",this.toggleClickListener),this.targetWindow.addEventListener("click",this.handleClickOutsideDropdown)}}class l{constructor(e){this.dropdowns=(e=>Array.from(e.querySelectorAll(`[data-role="${a.c}"]`),e=>new d(e)))(e)}initialize(){this.dropdowns.forEach(e=>e.attachListener())}}window.opbox.component.register({prototypeName:"allegro.metrumHeader",clientImplementationVersion:o.a},class{constructor({baseNode:e,services:t,props:r}={}){this.props=r,this.baseNode=e,this.services=t,this.stickyEnabled=e.querySelector(`[${a.n}]`),this.cacheEnabled=e.querySelector(`[${a.b}]`),this.esiEnabled=e.querySelector(`[${a.h}]`),this.stripEnabled=e.querySelector(`[data-role="${a.l}"]`),this.archiveVariantEnabled=e.querySelector(`[${a.a}]`),this.userAuthenticated=e.querySelector(`[${a.p}]`)}onMount(){new l(this.baseNode).initialize(),this.cacheEnabled&&r.e(4).then(r.bind(null,"Wq/3")).then(({default:e})=>{new e(this.baseNode).setFromOneCookie()}),!this.cacheEnabled&&!this.archiveVariantEnabled&&this.userAuthenticated&&this.props.subscribedNotificationBadges.length&&r.e(1).then(r.bind(null,"t40z")).then(({default:e})=>{new e(this.baseNode,this.services,this.props).initialize()}),this.stickyEnabled&&r.e(2).then(r.bind(null,"SnEL")).then(({default:e})=>{new e(this.baseNode).initialize()}),this.stripEnabled&&r.e(3).then(r.bind(null,"4wS8")).then(({default:e})=>{new e(this.baseNode).initialize()}),window.opbox.performance.markTimeToInteractive(s.a)}})},dtw6(e,t,r){r.d(t,"n",()=>i),r.d(t,"b",()=>o),r.d(t,"h",()=>a),r.d(t,"p",()=>s),r.d(t,"c",()=>n),r.d(t,"g",()=>d),r.d(t,"f",()=>l),r.d(t,"d",()=>h),r.d(t,"e",()=>c),r.d(t,"i",()=>p),r.d(t,"m",()=>u),r.d(t,"q",()=>b),r.d(t,"l",()=>g),r.d(t,"j",()=>w),r.d(t,"k",()=>m),r.d(t,"o",()=>f),r.d(t,"a",()=>v);const i="data-header-sticky",o="data-header-cached",a="data-header-esi",s="data-header-user-authenticated",n="header-dropdown",d="header-dropdown-toggle",l="header-dropdown-icon",h="dropdown-drop",c="dropdown-drop-scrollable",p="header-primary-bar",u="header-secondary-bar",b="header-wrapper",g="header-scrollbar-container",w="header-scrollbar-arrow-left",m="header-scrollbar-arrow-right",f="header-username",v="data-header-archive"},kiQV(e){e.exports=JSON.parse('{"a":"@allegro/opbox-metrum-header"}')},rRL6(e,t){e.exports="9b3"},rePB(e,t,r){function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",()=>i)}}));
//# sourceMappingURL=main-header.es6-pl-PL_818b6f67.js.map