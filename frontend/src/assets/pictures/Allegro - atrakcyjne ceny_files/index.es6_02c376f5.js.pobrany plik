((e,r)=>{for(var t in r)e[t]=r[t]})(window,(e=>{var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=(e,r,n)=>{t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=(e,r)=>{if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,(r=>e[r]).bind(null,o));return n},t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,"a",r),r},t.o=(e,r)=>({}.hasOwnProperty.call(e,r)),t.p="https://assets.allegrostatic.com/sc-14352/",t(t.s=0)})({0(e,r,t){e.exports=t("WdQY")},WdQY(e,r,t){t.r(r);var n=t("rRL6"),o=t.n(n);const i=()=>(new Date).getTime();class a{constructor({window:e,props:r}){var t;t=(e,r)=>{var t;e?void 0===r||null!==(t=r)&&"object"==typeof t&&!Array.isArray(t)?(new Image).src=this.getEventImageSrc({action:e,parameters:r}):this.window.opbox.reportError(Error('Invalid type of second argument. "parameters" must be an object')):this.window.opbox.reportError(Error('First argument "action" is required'))},"sendEvent"in this?Object.defineProperty(this,"sendEvent",{value:t,enumerable:!0,configurable:!0,writable:!0}):this.sendEvent=t,this.window=e,this.props=r,this.boundSendPageView=this.sendPageView.bind(this),this.props.shouldSendPageView&&(this.sendPageView(),this.window.opbox.navigation.registerChangeCallback(this.boundSendPageView))}sendPageView(){this.sendEvent("PageView")}static getCustomQueryParameters(e={}){const r=e=>encodeURIComponent((e=>null!==e&&(Array.isArray(e)||"object"==typeof e))(e)?JSON.stringify(e):e);return Object.entries(e).map(([e,t])=>`cd[${r(e)}]=${r(t)}`).join("&")}getEventImageSrc({action:e,parameters:r={},timestamp:t=i()}){return`${this.props.hostUrl+"/tr"}?${["id="+this.props.pixelId,"ev="+e,a.getCustomQueryParameters(r),"noscript=1","timestamp="+t].filter(Boolean).join("&")}`}getPublicApi(){return{sendEvent:this.sendEvent}}}const{facebookTrackingConfiguration:s}=(({pluginName:e,clientImplementationVersion:r})=>{try{return JSON.parse(window.document.querySelector(`script[data-serialize-plugin-name="${e}"][data-civ="${r}"]`).textContent)}catch(t){return window.opbox.reportError(Error(`Missing serialized props of plugin "${e}", with civ "${r}"`)),{}}})({pluginName:"facebookTracking",clientImplementationVersion:o.a});s&&window.opbox.plugin.register({name:"facebookTracking"},new a({window,props:s}).getPublicApi())},rRL6(e,r){e.exports="e2f"}}));
//# sourceMappingURL=index.es6_02c376f5.js.map