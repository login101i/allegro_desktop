((t,i)=>{for(var e in i)t[e]=i[e]})(window,(t=>{var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=(t,i,s)=>{e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=(t,i)=>{if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(s,n,(i=>t[i]).bind(null,n));return s},e.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,"a",i),i},e.o=(t,i)=>({}.hasOwnProperty.call(t,i)),e.p="",e(e.s=0)})({"+GN7"(t,i){t.exports="def"},0(t,i,e){t.exports=e("O14P")},O14P(t,i,e){e.r(i);var s=e("+GN7"),n=e.n(s);class a{constructor({window:t,container:i,routingEnabled:e,isScrollEnabled:s,baseNode:n}){this.window=t,this.container=i,this.baseNode=n,this.routingEnabled=e,this.isScrollEnabled=s,this.slug=i&&i.getAttribute("data-tabs-slug"),this.activeClassName="_152v3"}scrollToContainer(t){!t&&this.window.opbox.boxViewsMarker.isBoxInViewport(this.baseNode)||this.window.opbox.scrollTo(this.slug)}setAllTabsNotActive(){this.container&&Array.from(this.container.children,t=>t.classList.remove(this.activeClassName))}markFirstTabAsVisible(){const t=this.container.querySelector('[data-role="tab-panel-item"]');t&&this.window.opbox.boxViewsMarker.markBoxAsRendered(t)}setTabActiveByHash(t,{isInit:i=!1}={}){const e=t.replace("#",""),s=Array.from(this.container.children).find(({attributes:t})=>t["data-opbox-tab-link"]&&t["data-opbox-tab-link"].value===e);s||!i?s&&(this.setAllTabsNotActive(),s.classList.add(this.activeClassName),this.window.opbox.boxViewsMarker.markBoxAsRendered(s).then(()=>{this.isScrollEnabled&&(i||this.routingEnabled)&&this.scrollToContainer(i)})):this.markFirstTabAsVisible()}init(){this.routingEnabled?this.setTabActiveByHash(this.window.location.hash,{isInit:!0}):this.markFirstTabAsVisible()}}function o(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const{from:r}=Array,{parse:h}=JSON,l='[data-role="navigation-item"]',c="_ldlb7 _4b3d3_1F8ye".split(" ");class d{constructor({window:t,container:i,onActiveItemCallback:e=(()=>{}),routingEnabled:s,isVerticalViewWithRightAlign:n}){o(this,"handleClick",t=>{const i=t.target.closest(l);i&&(this.setActiveItem(i),t.preventDefault(),t.stopPropagation(),this.window.opbox.analytics.sendBoxInteractionEvent({contextNode:i,label:"tabChange",value:i.innerText}),this.routingEnabled&&this.window.history&&this.window.history.replaceState({},"",i.href))}),this.window=t,this.container=i,this.onActiveItemCallback=e,this.routingEnabled=s,this.isVerticalViewWithRightAlign=n,this.navigationItems=i?r(i.querySelectorAll(l)):[]}setAllItemsNonActive(){this.navigationItems.forEach(t=>{c.forEach(i=>t.classList.remove(i)),this.isVerticalViewWithRightAlign&&t.classList.remove("_4b3d3_3w37u")})}setActiveItem(t){if(!t)return;this.setAllItemsNonActive(),c.forEach(i=>t.classList.add(i)),this.isVerticalViewWithRightAlign&&t.classList.add("_4b3d3_3w37u");const i=t.attributes.href.value;this.onActiveItemCallback(i,t),this.routingEnabled&&this.window.history.replaceState({},"",i)}setActiveItemByHash(t){this.setActiveItem(this.navigationItems.find(i=>{const{hash:e}=new URL(i.href);return e===t}))}removeEventListeners(){this.container.removeEventListener("click",this.handleClick)}init(){if(this.container.addEventListener("click",this.handleClick),this.routingEnabled){const t=this.container.querySelector(`${l}[href="${this.window.location.hash}"]`);this.setActiveItem(t)}}}class v{constructor({window:t,arrowLeft:i,arrowRight:e,navigationContainer:s,isAlignCenter:n}){o(this,"moveBack",()=>this.moveToDirection(-1)),o(this,"moveForward",()=>this.moveToDirection(1)),o(this,"render",()=>{const{scrollWidth:t,clientWidth:i,scrollLeft:e}=this.navigationContainer,s=t-i;this.toggleArrow(this.arrowLeft,e>0),this.toggleArrow(this.arrowRight,e-s<0),this.isAlignCenter&&this.toggleVisibleArrowsClassName()}),this.window=t,this.arrowLeft=i,this.arrowRight=e,this.navigationContainer=s,this.hiddenClassName="m9vn_gl",this.tabsCenterClassNames="m7f5_6m _4b3d3_35C2e".split(" "),this.isAlignCenter=n}toggleArrow(t,i){if(!t)return;const e=t.classList.contains(this.hiddenClassName);i&&e?t.classList.remove(this.hiddenClassName):i||e||t.classList.add(this.hiddenClassName)}toggleVisibleArrowsClassName(){const t=this.arrowLeft.classList.contains(this.hiddenClassName),i=this.arrowRight.classList.contains(this.hiddenClassName);t&&i?this.tabsCenterClassNames.forEach(t=>{this.navigationContainer.classList.add(t)}):this.tabsCenterClassNames.forEach(t=>{this.navigationContainer.classList.remove(t)})}scrollTo(t){this.navigationContainer.scrollLeft=t}move(t){const i=this.navigationContainer.scrollWidth-this.navigationContainer.clientWidth,e=this.navigationContainer.scrollLeft,s=Math.min(Math.max(t,0),i);this.window.opbox.tween(e,s,this.scrollTo.bind(this))}moveToDirection(t=1){const i=this.navigationContainer.scrollLeft+t*this.navigationContainer.clientWidth*.9;this.move(i)}moveToElement(t){const i=t.offsetLeft;this.move(i)}addEventListeners(){this.window.addEventListener("resize",this.render,!1),this.navigationContainer.addEventListener("scroll",this.render,!1),this.arrowLeft.addEventListener("click",this.moveBack,!1),this.arrowRight.addEventListener("click",this.moveForward,!1)}removeEventListeners(){this.window.removeEventListener("resize",this.render,!1),this.navigationContainer.removeEventListener("scroll",this.render,!1),this.arrowLeft.removeEventListener("click",this.moveBack,!1),this.arrowRight.removeEventListener("click",this.moveForward,!1)}init(){this.addEventListeners(),this.render()}}window.opbox.component.register({prototypeName:"allegro.tabs",clientImplementationVersion:n.a},class{constructor({baseNode:t}){this.tabsContainer=t.querySelector('[data-role="tabs-container"]'),this.navigationContainer=t.querySelector('[data-role="tabs-navigation"]'),this.routingEnabled=(({attributes:t})=>JSON.parse(t["data-routing-enabled"].value))(this.tabsContainer),this.isScrollEnabled=(({attributes:t})=>JSON.parse(t["data-scroll-enabled"].value))(this.tabsContainer),this.arrowLeft=t.querySelector('[data-role="arrow-left"]'),this.arrowRight=t.querySelector('[data-role="arrow-right"]'),this.window=window,this.handleHashChange=this.handleHashChange.bind(this);const i=this.tabsContainer.getAttribute("data-tabs-align"),e="vertical"===this.tabsContainer.getAttribute("data-view"),s="right"===i,n="center"===i;this.tabsPanels=new a({window:this.window,baseNode:t,container:this.tabsContainer,routingEnabled:this.routingEnabled,isScrollEnabled:this.isScrollEnabled}),this.arrows=new v({navigationContainer:this.navigationContainer,arrowLeft:this.arrowLeft,arrowRight:this.arrowRight,isAlignCenter:n,window:this.window}),this.navigation=new d({window:this.window,container:this.navigationContainer,routingEnabled:this.routingEnabled,onActiveItemCallback:(t,i)=>{this.tabsPanels.setTabActiveByHash(t),this.arrows.moveToElement(i)},isVerticalViewWithRightAlign:e&&s})}handleHashChange(){const{hash:t}=this.window.location;this.tabsPanels.setTabActiveByHash(t),this.navigationContainer&&this.navigation.setActiveItemByHash(t)}onMount(){this.tabsPanels.init(),this.routingEnabled&&this.window.addEventListener("hashchange",this.handleHashChange,!1),this.navigationContainer&&(this.navigation.init(),this.arrows.init())}onUnmount(){this.routingEnabled&&this.window.removeEventListener("hashchange",this.handleHashChange,!1),this.navigationContainer&&(this.navigation.removeEventListeners(),this.arrows.removeEventListeners())}})}}));
//# sourceMappingURL=index.es6-pl-PL_8aba263f.js.map