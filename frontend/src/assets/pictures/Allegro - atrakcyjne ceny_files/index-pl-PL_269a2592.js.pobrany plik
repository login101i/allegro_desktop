!function(t,e){for(var n in e)t[n]=e[n]}(window,function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://assets.allegrostatic.com/sc-14307/",n(n.s=0)}({0:function(t,e,n){t.exports=n("WdQY")},WdQY:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}n.r(e);var c={"pl-PL":{"Przedmiot trafił do koszyka.":[["",["Przedmiot trafił do koszyka."]]],"Nie udało się dodać przedmiotu do koszyka. Spróbuj jeszcze raz.":[["",["Nie udało się dodać przedmiotu do koszyka. Spróbuj jeszcze raz."]]],zamknij:[["",["zamknij"]]]}},u=/({{[^}]+}}|{%[^%}]+%})/g,l=/({{[^}]+}})/g,d=/({%[^%}]+%})/g,m=/({{\s*|\s*}}|{%\s*|\s*%})/g;function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof t)throw Error("Translation has to be an array");return t.find((function(t){return t[0]===e}))[1]}var p=function(t,e,n){var r=c["pl-PL"][t];if(!r)throw Error('Missing translation for lang "pl-PL" and key "'.concat(t,'"'));return e?function(t,e,n){var r,o=f(t,e.context);return function(t,e,n){if(n){var r=0;return t.split(u).map((function(n){if(n.match(d)){var o=e.formatters[r];if(o)return r+=1,o(n.replace(m,""));throw Error('Missing translation formatter for "'.concat(t,'"'))}return n.match(l)?e[n.replace(m,"")]:n}))}var o=t.match(u),i=0;return o?o.reduce((function(n,r){var o=r.replace(m,"");if(r.match(d)){var a=e.formatters[i];if(a)return i+=1,n.replace(r,a(o));throw Error('Missing translation formatter for "'.concat(t,'"'))}return r.match(l)?n.replace(r,e[o]):n}),t):t}(o=parseInt(e.count,10)>=0?function(t,e){var n,r=1==(n=e)?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;return"boolean"!=typeof r?t[r]:t[r?1:0]}(o,e.count):(r=o,function(t){if(Array.isArray(t))return t}(r)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),1!==n.length);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(r)||function(t,e){if(t){if("string"==typeof t)return s(t,1);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,1):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],e,n)}(r,e,n):f(r)[0]},h="message-close-button",g=n("z/3O"),_=n("dP7j"),y="mpof_5r mp7g_oz mqm6_0 mj7u_0 m7er_k4 munh_24_s _d9395_3Irk-",v="mjyo_6x msbw_2 mldj_2 mtag_2 mm2b_2 mx7m_1 mdwl_co mlkp_ag mjb5_w6 mg1ced mg80z5 mp7g_oh m7er_k4",b="mgn2_14 mp0t_0a m9qz_yp mp7g_oh mse2_40 mqu1_40 mtsp_ib mli8_k4 mp4t_0 m3h2_0 mryx_0 munh_0 m911_5r mefy_5r mnyp_5r mdwl_5r msbw_2 mldj_2 mtag_2 mm2b_2 mqvr_2 msa3_z4 mqen_m6 meqh_en m0qj_5r msts_n7 mg9e_0 mj7a_0 mjir_sv m2ha_2 m8qd_qh mjt1_n2 b1la9 mgmw_vz mrmn_qo mrhf_u8 m31c_kb m0ux_fp bgkgt m0t1_f9 mvrt_0 mh36_0",w="mg9e_16 mg9e_24_l mvrt_16 mvrt_24_l mj7a_16 mj7a_24_l msts_pt mx7m_1 mlkp_ag m911_co mnyp_co mefy_co mldj_2 mm2b_2 mg11dp",j="mjyo_lo mpof_5r mpof_z0_s m0t1_7i mg9e_0 mj7a_0 mh36_0 mvrt_16 mvrt_24_l",C="mjyo_6x meqh_en msa3_z4 m0s5_e6 mhd5_0m ib0i1 mse2_56 mg9e_0 mvrt_0 mj7a_0 mh36_0",I="mjyo_6x mse2_40 meqh_en msa3_z4 m0s5_e6 mg9e_4 mvrt_4 mj7a_4 mh36_4 mhd5_0m ib0i1",O="mgn2_14 mp0t_0a mqu1_21 mgmw_wo mli8_k4 mp4t_0 m3h2_0 mryx_0 munh_0";function k(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[v,e?"mh36_4 mdwl_5r msts_1p":"mh36_4 mdwl_5r msts_t2"].join(" "),r=e?_.b:_.a;return'\n    <div\n      data-role="message-wrapper"\n      class="'.concat(y,'"\n    >\n      <div\n        class="').concat(n,'"\n        data-role="').concat("message",'"\n      >\n        <button\n          type="button"\n          class="').concat(b,'"\n          data-role="').concat(h,'"\n          aria-label="').concat(p("zamknij"),'"\n        >\n          <img\n            class="').concat(I,'"\n            src="').concat(g.a,'"\n            alt=""\n            width="40"\n            height="40"\n          >\n        </button>\n        <div class="').concat(w,'">\n          <div class="').concat(j,'">\n            <img\n              class="').concat(C,'"\n              data-role="').concat("message-information-icon",'"\n              src="').concat(r,'"\n              width="32"\n              height="32"\n              aria-hidden="true"\n              alt=""\n            >\n          </div>\n          <div class="').concat("mg8j5j",'">\n            <p\n              class="').concat(O,'"\n              data-role="').concat("message-paragraph",'"\n            >').concat(t,"</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  ")}var E,S=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;r(this,t),a(this,"rootNode",null),a(this,"closeButtonNode",null),a(this,"isCurrentMessageOfTypeDanger",!1),a(this,"messageVisibilityTimeout",0),a(this,"render",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=e.targetWindow.document.body;if(!e.rootNode||n!==e.isCurrentMessageOfTypeDanger){var i=k(t,n),a=e.targetWindow.document.createElement("div");a.innerHTML=i;var s=a.firstElementChild;e.rootNode?(e.detachEventListeners(),o.replaceChild(s,e.rootNode),e.rootNode=s):e.rootNode=o.appendChild(s),e.closeButtonNode=e.rootNode.querySelector('button[data-role="'.concat(h,'"]')),e.isCurrentMessageOfTypeDanger=n,e.attachEventListeners()}e.renderVisibleWithTimeout(r)})),a(this,"onClick",(function(){e.renderHidden()})),this.targetWindow=n}return i(t,[{key:"renderSuccess",value:function(t){this.render(p("Przedmiot trafił do koszyka."),!1,t)}},{key:"renderDanger",value:function(t){this.render(p("Nie udało się dodać przedmiotu do koszyka. Spróbuj jeszcze raz."),!0,t)}},{key:"renderVisible",value:function(){this.targetWindow.clearTimeout(this.messageVisibilityTimeout),this.rootNode&&this.rootNode.classList.remove("mpof_5r")}},{key:"renderHidden",value:function(){this.targetWindow.clearTimeout(this.messageVisibilityTimeout),this.rootNode&&this.rootNode.classList.add("mpof_5r")}},{key:"renderVisibleWithTimeout",value:function(t){var e=this;this.renderVisible(),this.messageVisibilityTimeout=this.targetWindow.setTimeout((function(){return e.renderHidden()}),t)}},{key:"attachEventListeners",value:function(){this.closeButtonNode&&this.closeButtonNode.addEventListener("click",this.onClick)}},{key:"detachEventListeners",value:function(){this.closeButtonNode&&this.closeButtonNode.removeEventListener("click",this.onClick)}}]),t}(),z=Error("Failed to render precart layer"),x={showPrecartLayer:!1},L=function(){function t(e){var n=this,o=e.window,i=e.cartClient,s=e.props;r(this,t),a(this,"changeItems",(function(t,e,r){return n.cartClient.changeQuantity(t).then((function(){var o=t.reduce((function(t,e){return t+e.delta}),0);return n.triggerQuantityChangeListeners(o),e.showPrecartLayer?n.window.opbox.page.render.fragment({pathname:n.props.precartLayerUrl,additionalQueryParameters:r}).catch((function(){n.window.opbox.reportError(z)})):(o>0&&e.showStatusMessage&&n.message.renderSuccess(),Promise.resolve())})).catch((function(t){throw e.showStatusMessage&&n.message.renderDanger(),n.window.opbox.reportError(t),t}))})),a(this,"add",(function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,o=t.filter((function(t){return t.delta>0}));return n.changeItems(t,r,{precartOfferId:o.map((function(t){return t.itemId})),precartSellerId:null===(e=o[0])||void 0===e?void 0:e.sellerId,itemQuantity:o.map((function(t){var e=t.itemId,n=t.delta;return"".concat(e,":").concat(n)}))})})),a(this,"addOffer",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;return n.addOffers([t],e)})),a(this,"addOffers",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;return n.changeItems(t.map((function(t){var e=t.itemId,n=t.quantity,r=t.sellerId,o=t.category;return{itemId:e,delta:n,sellerId:r,navCategoryId:null==o?void 0:o.id,navTree:null==o?void 0:o.tree}})),e,{precartOfferId:t.map((function(t){return t.itemId})),precartSellerId:t[0].sellerId,itemQuantity:t.map((function(t){var e=t.itemId,n=t.quantity;return"".concat(e,":").concat(n)}))})})),a(this,"removeOffer",(function(t){var e=t.itemId,r=t.quantity,o=t.sellerId,i=t.allowDelete;return n.changeItems([Object.assign({itemId:e,delta:-1*r,sellerId:o},!0===i&&{allowDelete:i})],x,void 0)})),a(this,"addBundle",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;return n.changeItems([{itemId:t.bundleMainItemId,delta:t.quantity,sellerId:t.sellerId,rebateId:t.rebateId}],e,{precartOfferId:t.itemsIds,precartSellerId:t.sellerId,rebateId:t.rebateId,quantity:t.quantity.toString(10)})})),a(this,"triggerQuantityChangeListeners",(function(t){n.quantityChangeListeners.forEach((function(e){return e(t)}))})),a(this,"registerQuantityChangeListener",(function(t){n.quantityChangeListeners.push(t)})),a(this,"unregisterQuantityChangeListener",(function(t){n.quantityChangeListeners=n.quantityChangeListeners.filter((function(e){return e!==t}))})),this.window=o,this.cartClient=i,this.quantityChangeListeners=[],this.props=s,this.message=new S(o)}return i(t,[{key:"getPublicApi",value:function(){return{add:this.add,addBundle:this.addBundle,addOffer:this.addOffer,addOffers:this.addOffers,removeOffer:this.removeOffer,registerQuantityChangeListener:this.registerQuantityChangeListener,unregisterQuantityChangeListener:this.unregisterQuantityChangeListener}}}]),t}();function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t,e,n){return(M=q()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&P(o,n.prototype),o}).apply(null,arguments)}function D(t){var e="function"==typeof Map?new Map:void 0;return(D=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return M(t,arguments,T(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),P(r,t)})(t)}!function(t){t.CART_CAPACITY_EXCEEDED="OFFER_CART_CAPACITY_EXCEEDED"}(E||(E={}));var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(o,t);var e,n=(e=o,function(){var t,n=T(e);if(q()){var r=T(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return A(this,t)});function o(t,e){var i;return r(this,o),(i=n.call(this,"Failed to add to cart")).response=e,i.status=t,i}return o}(D(Error)),R={changeQuantity:function(t){return window.opbox.edge.post("/carts/changeQuantityCommand",{items:t},{headers:{Accept:"application/vnd.allegro.public.v5+json","Content-Type":"application/vnd.allegro.public.v5+json"},withCredentials:!0}).catch((function(t){var e,n=t.status,r=t.data;throw 422===n&&null!=r&&null!==(e=r.errors)&&void 0!==e&&e.find((function(t){return t.code===E.CART_CAPACITY_EXCEEDED}))&&window.location.assign("/koszyk?error=CART_CAPACITY_EXCEEDED"),new Q(n,r)}))}},W=n("rRL6"),B="data-cart-plugin-".concat(n.n(W).a);try{var V,F=null===(V=window.document.querySelector("script[".concat(B,"]")))||void 0===V?void 0:V.textContent;if(F){var Y=JSON.parse(F).cartConfiguration;window.opbox.plugin.register({name:"cart"},new L({window:window,cartClient:R,props:Y}).getPublicApi())}}catch(t){window.opbox.reportError(Error('Missing "'.concat(B,'" initial state script')))}},dP7j:function(t){t.exports=JSON.parse('{"a":"https://assets.allegrostatic.com/metrum/icon/round-tick-f943345bd3.svg","b":"https://assets.allegrostatic.com/metrum/icon/stop-sign-92284fffce.svg"}')},rRL6:function(t,e){t.exports="79b"},"z/3O":function(t){t.exports=JSON.parse('{"a":"https://assets.allegrostatic.com/metrum/icon/x-1a6f095eb2.svg"}')}}));
//# sourceMappingURL=index-pl-PL_269a2592.js.map