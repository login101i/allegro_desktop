const t={once:!0,passive:!0,capture:!0},{from:e}=Array,{assign:n}=Object,{min:r,round:a}=Math,o=t=>t.length,s=(t,e,n)=>({category:"Performance",label:t,value:e,customParams:n}),i=t=>t.startTime,c=t=>{const[e,r]=t.name.split("@");return s("Mark",e,n({st:a(i(t))},r?{sr:r}:{}))},l=(t,e)=>{null!==t&&"function"==typeof e.cm?e.cm("send","event",t):console.log("Cannot send performance data",t)},u=t=>e=>t.querySelectorAll(e),d=t=>e=>t.getElementsByTagName(e),m=(t,e)=>t.getEntriesByType(e),p=()=>{},f=(t,e=!1)=>{if(!t)return"";const n=t.getAttribute("id");if(n)return"#"+n;const r=t.getAttribute("name");if(r)return`[name="${r}"]`;let a="",o="";!e&&t.parentNode&&t.parentNode.closest&&(o=f(t.parentNode.closest("[id], [name], [data-box-name]"),!0));const s=t.getAttribute("data-role");if(s&&(a+=`[data-role="${s}"]`),!a){const e=t.getAttribute("data-box-name");a+=e?`[data-box-name="${e}"]`:t.tagName}return o&&(a=`${o} ${a}`),a},g=(t,e=null)=>{if(!t||!t.closest)return e?`IMG[src="${e}"]`:"";const n=t.closest("a, button, [data-analytics-clickable]")||t;return f(n)},y=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];function h(t){const e=(({timing:t})=>y.map((e=>t[e])))(t),[n,...r]=e;return r.map((t=>((t,e)=>{const n=e-t;return!e||e<0||t<0||n<0?-1:n})(n,t)))}const v="script[src]",b='link[rel="stylesheet"]',E="img",S=t=>t.join(",");function k(t){return"number"==typeof t&&t>=0?r(a(1e3*t),1e6):-1}const w=["allegro.pl","assets.allegrostatic.pl","cdn.allegrostatic.com","assets.allegrostatic.com"];function T(t=self,e=Date.now,n=40){const r=e();let a=0,o=0;for(;o<n;)o=e()-r,parseInt(""+a,10)===a&&(a+=1);t.postMessage(~~(a/1e3))}const L=t=>(t=>t.opbox.performance)(t).firstHidden,B={},N=t=>{B[t]=[]},z=t=>t.disconnect(),C={once:!1},$=(t,e,n=p,{once:r}=C)=>{try{if(t.supportedEntryTypes.includes(e)){const a=(t=>e=>(B[t].push(e),e))(e),o=new t((t=>{n(t.getEntries().map(a)),r&&z(o)}));return N(e),o.observe({type:e,buffered:!0}),(t=!0)=>(o.takeRecords().map(a),t&&z(o),(t=>{const e=B[t]||[];return N(t),e})(e))}}catch(a){}return null};let M=0;(t=>{const{performance:n,document:r}=t,c=e=>l(e,t),f=()=>{c((t=>s("NavigationTiming",null,{m:h(t),v:1}))(n)),c(((t,n,r)=>{if(!("getEntriesByType"in r))return null;const c=m(r,"resource").reduce(((t,e)=>{const[n,r,a,o,s]=t;switch(e.initiatorType){case"img":case"image":a.push(e);break;case"link":e.name.endsWith(".css")&&n.push(e);break;case"script":r.push(e);break;case"iframe":s.push(e);break;case"video":o.push(e)}return t}),[[],[],[],[],[]]),l=((t,e,n)=>{const[r,a,s,i,c]=n.map((t=>new Set(t.map((t=>t.name))).size)),l=d(t),p=d(t.body),f=u(t),g=u(t.body),[y={}]=m(e,"navigation"),h=o(f("script:not([src])"));return[l("*"),t.documentElement.innerHTML,y.encodedBodySize||-1,y.transferSize||-1,l("style"),r,h,a,s,i,c,f(S(["meta","noscript","head","base","title","script","link","style"])),o(p("*"))-o(g(S(["link","style","script","noscript"])))].map((t=>{const e=o(t);return void 0===e?t:e}))})(t,r,c),[p,f,...g]=(t=>{if("object"!=typeof t.connection)return[,,,,,].fill(null);const{type:e="",effectiveType:n="",downlinkMax:r=-1,downlink:a=-1,rtt:o=-1}=t.connection;return[e,n,k(r),k(a),o]})(n),y=(t=>{const e=e=>{const[n]=t.getEntriesByName(e,"paint");return n?a(i(n)):-1};return[e("first-paint"),e("first-contentful-paint")]})(r),[h,T,L,B]=((t,[n,r,a])=>{const s=u(t),[i,c]=(t=>{const e=[],n=[];return t.forEach((t=>{let r=0;for(;r<o(w);r++){const n=w[r];if(t.name.startsWith(`https://${n}/`)){e.push(t);break}}r===o(w)&&n.push(t)})),[e,n]})(r);return[[n,b],[i,v],[c,v],[a,E]].map((([t,n])=>((t,n)=>{const r=((t,e)=>{const n=e.reduce(((t,e)=>(t[e.href||e.src]=!0,t)),{});return t.filter((t=>!0===n[t.name]))})(t,e(n)),a=(t=>t.reduce((([t,e],n)=>[t+(n.encodedBodySize||0),e+(n.transferSize||0)]),[0,0]))(r);return(t=>{let e=0,n=0,r=0;return t.forEach((t=>{t.transferSize>0?n++:t.encodedBodySize>0?e++:r++})),[e,n,r]})(r).concat(a)})(t,e(s(n)))))})(t,c);return s("ResourceInformation",null,{v:1,bs:[0],ds:l,nct:p,net:f,ns:g,ps:y,tst:h,tis:T,tes:L,tim:B})})(r,t.navigator,n)),c((({navigation:{type:t}={}})=>s("NavigationType",t))(n)),((t=Worker)=>{if(!t)return Promise.reject();const e=new t((t=>{const e=new Blob([`(${T+""})()`],{type:"application/javascript"});return URL.createObjectURL(e)})());return new Promise(((t,n)=>{e.onmessage=({data:n})=>{e.terminate(),t(n)},e.onmessageerror=({message:t})=>{e.terminate(),n(t)},e.onerror=t=>{e.terminate(),n(t)}})).then((t=>s("Benchmark",t)))})().then(c).catch(p)};t.addEventListener("pageshow",(t=>({persisted:e})=>{e&&l(s("BackForwardCacheEnabled",!0,{}),t)})(t)),"complete"===r.readyState?f():t.addEventListener("load",(()=>{t.setTimeout(f,0)}))})(window),((e=window)=>{const r=e.document,i=e.PerformanceObserver;((t,e)=>{$(e,"mark",(e=>{const n=L(t);e.forEach((({startTime:e,name:r})=>{"clientSideNavigationStart"===r?M=e:!(t=>t.includes(":"))(r)&&e<n&&l(c({name:r,startTime:e-M}),t)}))}))})(e,i),((t,e,n)=>{$(e,"first-input",(([e])=>{const{startTime:r,processingStart:o,name:i,target:c}=e;r>L(t)||(l(s("Mark","FirstInput",{st:a(r),d:o-r,n:i||"",el:g(c)}),t),n())}),{once:!0})})(e,i,(()=>{((t,e)=>{if(!e)return;const n=(r=e())[o(r)-1];var r;n&&l(s("LargestContentfulPaint",n.url?"i":"t",{s:n.size,st:a(n.startTime),el:g(n.element,n.url)}),t)})(e,$(i,"largest-contentful-paint")),((t,e)=>{if(!e)return;const n=e();if(!n.length)return;const r=n.reduce(((t,{duration:e})=>t+e),0);l(s("TotalBlockingTime",r,{count:n.length}),t)})(e,$(i,"longtask"))})),((e,r,o)=>{if(!o)return;let i,c=0;((r,u,d)=>{((e,r,a={})=>{e.addEventListener("visibilitychange",r,n(t,a))})(r,(()=>{(({visibilityState:t})=>"visible"===t)(r)||(()=>{const t=a(e.performance.now());c+=o(!1).reduce(((t,{hadRecentInput:e,value:n})=>e?t:t+n),0);const n=parseFloat(c.toFixed(4));i!==n&&(l(s("CumulativeLayoutShift",n,{st:t}),e),i=n)})()}),{once:!1})})(r)})(e,r,$(i,"layout-shift"))})(window);